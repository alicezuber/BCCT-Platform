# Git 操作輔助工具

這個 Tkinter GUI 工具是為了幫助團隊成員更方便地操作 Git，特別是在分支管理和保持 commit 格式一致性方面。

## 功能

1. **分支管理**
   - 顯示當前分支
   - 列出所有可用分支
   - 一鍵切換分支

2. **標準化 Commit 流程**
   - 確保 commit 格式符合 `[vX.Y.Z]提交訊息` 的規範
   - **使用者代號整合**：自動將使用者代號加入提交訊息 `[vX.Y.Z][代號] 訊息`
   - 版本號和提交信息分離輸入，自動組合
   - 提交信息預覽
   - **自動從 version.md 讀取最新版本號和提交訊息**
   - **自動從 README.md 讀取可用使用者代號**

3. **常用 Git 操作**
   - 提交變更 (Commit)
   - 推送變更 (Push)
   - 拉取更新 (Pull)
   - 查看狀態
   - **合併至main分支並自動增加版本號**
   - **檢查本地與遠端分支同步狀態**
   - **將本地變更存入待避分支**

## 安裝要求

- Python 3.6 或更高版本
- tkinter 庫 (通常隨 Python 一起安裝)

## 使用方法

1. 確保你的系統上已安裝了 Python 3
2. 在 BCCT-platform 目錄下運行:

```bash
python git_helper_tk.py
```

## 使用流程

1. **切換分支**
   - 從下拉列表中選擇目標分支
   - 點擊「切換」按鈕

2. **提交變更**
   - 點擊「從version.md獲取版本」自動填入最新版本號和相應的提交訊息
   - 從下拉列表選擇你的使用者代號
   - 或手動輸入版本號和提交訊息
   - 點擊「生成預覽」確認格式正確
   - 點擊「提交」執行 git commit

3. **推送/拉取**
   - 使用相應按鈕執行 git push 或 git pull 操作

4. **合併至main**
   - 點擊「合併至main」按鈕
   - 選擇版本號增加方式（主版本號/次版本號/修補版本號）
   - 確認合併操作
   - 系統會自動處理合併並提交統一格式的合併訊息，包含使用者代號

5. **檢查遠端差異**
   - 點擊「檢查遠端差異」按鈕
   - 查看本地分支與遠端分支的落後/領先提交數
   - 獲取差異詳情及建議操作
   - 直接從對話框執行拉取或推送操作

6. **使用待避分支**
   - 當本地有變更且同時落後於遠端時
   - 點擊「存入待避分支」按鈕
   - 系統會創建一個時間戳記的待避分支，並將變更提交到該分支
   - 然後自動切換回原始分支並更新
   - 提供選項立即嘗試合併待避分支或稍後手動合併

## 使用者代號

工具會自動從README.md中讀取定義的使用者代號（如B、S、C、M等），您可以：

- 從下拉選單選擇自己的代號
- 系統會記住您上次使用的代號
- 所有提交都會自動包含您的代號，格式為`[vX.Y.Z][代號] 訊息`

## 版本號增加規則

- **主版本號 (Major)**: 重大功能變更或不向下兼容的API變更時增加
- **次版本號 (Minor)**: 新增功能但保持向下兼容時增加
- **修補版本號 (Patch)**: 錯誤修復和小調整時增加

## 注意事項

- 工具會自動執行 `git add .` 添加所有變更
- 切換分支前會檢查未提交的變更並提供警告
- 日誌區域會顯示所有操作的輸出
- 啟動時會嘗試自動讀取 version.md 的最新版本號和提交訊息
- 從version.md提取的提交訊息將以分號分隔合併多行項目
- 合併至main時會檢查是否有未提交的變更並提供處理選項
- 檢查遠端差異功能會自動執行git fetch以確保數據是最新的
- 待避分支功能可幫助在複雜同步情況下安全處理變更
- 使用者設定會保存在.git_helper_config.json檔案中

## 開發者

如果需要修改此工具，可以編輯 `git_helper_tk.py` 文件。
